<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="user">

  <select id="getUserList" resultType="user">
    select * 
    from users 
  </select>
  
  <select id="getUser" parameterType="String" resultType="user">
     select *
     from users
     where userId = #{userId}
  </select>
  
  <select id="getUserListOnlyHalf" resultType="user">
  	 select *
	   from users
      where rownum &lt;= 50
  </select>
  
  <select id="getUserPagingList" parameterType="page" resultType="user">
     select *
	   from
	       (select rownum rn, a.*
	       from
	           (select  *
	           from    USERS
	           order by userid) a)
   	  where rn between #{size} * (#{page} - 1) + 1 and #{size} * #{page}
  </select>
  
  <!-- 사용자 전체 건수 조회 -->
  <select id="getUserTotalCnt" resultType="Integer">
  		select count(*)
  		  from users
  </select>
  
  <!-- 사용자 등록  -->
  <insert id="insertUser" parameterType="user">
  		insert into users (userId, userNm, pass, reg_dt, alias, addr1, addr2, zipcode)
  		values(#{userId}, #{userNm}, #{pass}, #{reg_dt}, #{alias}, #{addr1}, #{addr2}, #{zipcode})
  </insert>	
  
  <!-- 사용자 삭제 -->
  <delete id="deleteUser" parameterType="String">
  		delete users where userid = #{userId}
  </delete>
  
</mapper>